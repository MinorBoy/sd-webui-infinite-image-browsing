import{d as V,j as oe,v as E,a0 as le,u as Y,_ as fe,a as B,a1 as me,a2 as se,h as D,c as d,P as U,s as he,a3 as ge,a4 as _e,a5 as be,a6 as ie,a7 as Ce,W,a8 as O,a9 as ke,Y as ye,aa as we,ab as q,ac as xe,ad as G,ae as Oe,o as w,A as j,B as C,m as R,t as f,af as Se,$ as Ie,M as $e,r as Pe,ag as Te,ah as X,k as T,l as i,E as v,p as M,C as F,ai as Re,n as K,I as ee,aj as H,ak as ze,al as Me,am as Ne,Z as De,an as Ae,ao as Fe,q as je}from"./index-e82e9f1c.js";import{D as Be}from"./index-96e7b26a.js";import{V as Ve}from"./index-801ff788.js";var Ee=["prefixCls","id"],re=function(){return{prefixCls:String,checked:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},isGroup:{type:Boolean,default:void 0},value:U.any,name:String,id:String,autofocus:{type:Boolean,default:void 0},onChange:Function,onFocus:Function,onBlur:Function,onClick:Function,"onUpdate:checked":Function,"onUpdate:value":Function}};const x=V({compatConfig:{MODE:3},name:"ARadio",props:re(),setup:function(e,t){var o=t.emit,c=t.expose,h=t.slots,m=oe(),g=E(),_=le("radioGroupContext",void 0),I=Y("radio",e),k=I.prefixCls,P=I.direction,A=function(){g.value.focus()},S=function(){g.value.blur()};c({focus:A,blur:S});var a=function(l){var p=l.target.checked;o("update:checked",p),o("update:value",p),o("change",l),m.onFieldChange()},s=function(l){o("change",l),_&&_.onRadioChange&&_.onRadioChange(l)};return function(){var r,l=_;e.prefixCls;var p=e.id,$=p===void 0?m.id.value:p,N=fe(e,Ee),b=B({prefixCls:k.value,id:$},me(N,["onUpdate:checked","onUpdate:value"]));l?(b.name=l.props.name,b.onChange=s,b.checked=e.value===l.stateValue.value,b.disabled=e.disabled||l.props.disabled):b.onChange=a;var z=se((r={},D(r,"".concat(k.value,"-wrapper"),!0),D(r,"".concat(k.value,"-wrapper-checked"),b.checked),D(r,"".concat(k.value,"-wrapper-disabled"),b.disabled),D(r,"".concat(k.value,"-wrapper-rtl"),P.value==="rtl"),r));return d("label",{class:z},[d(Ve,B(B({},b),{},{type:"radio",ref:g}),null),h.default&&d("span",null,[h.default()])])}}});var Ge=_e("large","default","small"),Le=function(){return{prefixCls:String,value:U.any,size:U.oneOf(Ge),options:{type:Array},disabled:{type:Boolean,default:void 0},name:String,buttonStyle:{type:String,default:"outline"},id:String,optionType:{type:String,default:"default"},onChange:Function,"onUpdate:value":Function}};const ce=V({compatConfig:{MODE:3},name:"ARadioGroup",props:Le(),setup:function(e,t){var o=t.slots,c=t.emit,h=oe(),m=Y("radio",e),g=m.prefixCls,_=m.direction,I=m.size,k=E(e.value),P=E(!1);he(function(){return e.value},function(S){k.value=S,P.value=!1});var A=function(a){var s=k.value,r=a.target.value;"value"in e||(k.value=r),!P.value&&r!==s&&(P.value=!0,c("update:value",r),c("change",a),h.onFieldChange()),be(function(){P.value=!1})};return ge("radioGroupContext",{onRadioChange:A,stateValue:k,props:e}),function(){var S,a=e.options,s=e.optionType,r=e.buttonStyle,l=e.id,p=l===void 0?h.id.value:l,$="".concat(g.value,"-group"),N=se($,"".concat($,"-").concat(r),(S={},D(S,"".concat($,"-").concat(I.value),I.value),D(S,"".concat($,"-rtl"),_.value==="rtl"),S)),b=null;if(a&&a.length>0){var z=s==="button"?"".concat(g.value,"-button"):g.value;b=a.map(function(y){if(typeof y=="string"||typeof y=="number")return d(x,{key:y,prefixCls:z,disabled:e.disabled,value:y,checked:k.value===y},{default:function(){return[y]}});var L=y.value,de=y.disabled,pe=y.label;return d(x,{key:"radio-group-value-options-".concat(L),prefixCls:z,disabled:de||e.disabled,value:L,checked:k.value===L},{default:function(){return[pe]}})})}else{var u;b=(u=o.default)===null||u===void 0?void 0:u.call(o)}return d("div",{class:N,id:p},[b])}}}),ue=V({compatConfig:{MODE:3},name:"ARadioButton",props:re(),setup:function(e,t){var o=t.slots,c=Y("radio-button",e),h=c.prefixCls,m=le("radioGroupContext",void 0);return function(){var g,_=B(B({},e),{},{prefixCls:h.value});return m&&(_.onChange=m.onRadioChange,_.checked=_.value===m.stateValue.value,_.disabled=_.disabled||m.props.disabled),d(x,_,{default:function(){return[(g=o.default)===null||g===void 0?void 0:g.call(o)]}})}}});x.Group=ce;x.Button=ue;x.install=function(n){return n.component(x.name,x),n.component(x.Group.name,x.Group),n.component(x.Button.name,x.Button),n};var He={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M688 312v-48c0-4.4-3.6-8-8-8H296c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8zm-392 88c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H296zm376 116c-119.3 0-216 96.7-216 216s96.7 216 216 216 216-96.7 216-216-96.7-216-216-216zm107.5 323.5C750.8 868.2 712.6 884 672 884s-78.8-15.8-107.5-44.5C535.8 810.8 520 772.6 520 732s15.8-78.8 44.5-107.5C593.2 595.8 631.4 580 672 580s78.8 15.8 107.5 44.5C808.2 653.2 824 691.4 824 732s-15.8 78.8-44.5 107.5zM761 656h-44.3c-2.6 0-5 1.2-6.5 3.3l-63.5 87.8-23.1-31.9a7.92 7.92 0 00-6.5-3.3H573c-6.5 0-10.3 7.4-6.5 12.7l73.8 102.1c3.2 4.4 9.7 4.4 12.9 0l114.2-158c3.9-5.3.1-12.7-6.4-12.7zM440 852H208V148h560v344c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V108c0-17.7-14.3-32-32-32H168c-17.7 0-32 14.3-32 32v784c0 17.7 14.3 32 32 32h272c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"file-done",theme:"outlined"};const Ue=He;function te(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),o.forEach(function(c){We(n,c,t[c])})}return n}function We(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var Z=function(e,t){var o=te({},e,t.attrs);return d(ie,te({},o,{icon:Ue}),null)};Z.displayName="FileDoneOutlined";Z.inheritAttrs=!1;const qe=Z;var Ye={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"};const Ze=Ye;function ae(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?Object(arguments[e]):{},o=Object.keys(t);typeof Object.getOwnPropertySymbols=="function"&&(o=o.concat(Object.getOwnPropertySymbols(t).filter(function(c){return Object.getOwnPropertyDescriptor(t,c).enumerable}))),o.forEach(function(c){Je(n,c,t[c])})}return n}function Je(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}var J=function(e,t){var o=ae({},e,t.attrs);return d(ie,ae({},o,{icon:Ze}),null)};J.displayName="LockOutlined";J.inheritAttrs=!1;const ne=J;const Qe=async n=>{let e;if({}.TAURI_ARCH){const t=await Ce({directory:!0});if(typeof t=="string")e=t;else return}else e=await new Promise(t=>{const o=E("");W.confirm({title:O("inputTargetFolderPath"),content:()=>ke(ye,{value:o.value,"onUpdate:value":c=>o.value=c}),async onOk(){const c=o.value;(await we([c]))[c]?t(o.value):q.error(O("pathDoesNotExist"))}})});W.confirm({content:O("confirmToAddToExtraPath"),async onOk(){await xe({type:n,path:e}),q.success(O("addCompleted")),G.emit("searchIndexExpired"),G.emit("updateGlobalSetting")}})},Xe=(n,e)=>{W.confirm({content:O("confirmDelete"),closable:!0,async onOk(){await Oe({type:e,path:n}),q.success(O("removeCompleted")),G.emit("searchIndexExpired"),G.emit("updateGlobalSetting")}})},Ke=V({__name:"actionContextMenu",emits:["openOnTheRight","openInNewTab"],setup(n,{emit:e}){const t=o=>{switch(o.key.toString()){case"openOnTheRight":e("openOnTheRight");break;case"openInNewTab":e("openInNewTab");break}};return(o,c)=>{const h=Ie,m=$e,g=Be;return w(),j(g,{trigger:["contextmenu"]},{overlay:C(()=>[d(m,{onClick:t},{default:C(()=>[d(h,{key:"openOnTheRight"},{default:C(()=>[R(f(o.$t("openOnTheRight")),1)]),_:1}),d(h,{key:"openInNewTab"},{default:C(()=>[R(f(o.$t("openInNewTab")),1)]),_:1})]),_:1})]),default:C(()=>[Se(o.$slots,"default")]),_:3})}}}),Q=n=>(Ae("data-v-e9713232"),n=n(),Fe(),n),et={class:"container"},tt={class:"header"},at={key:0,style:{"margin-left":"16px","font-size":"1.5em"}},nt=Q(()=>i("div",{"flex-placeholder":""},null,-1)),ot={class:"access-mode-message"},lt=Q(()=>i("div",{"flex-placeholder":""},null,-1)),st={class:"access-mode-message"},it=Q(()=>i("div",{"flex-placeholder":""},null,-1)),rt={class:"content"},ct={class:"feature-item"},ut={class:"text line-clamp-1"},dt=["onClick"],pt={class:"text line-clamp-2"},vt={class:"feature-item"},ft={class:"text line-clamp-1"},mt={class:"text line-clamp-1"},ht={key:0,class:"feature-item recent"},gt={class:"title"},_t=["onClick"],bt={class:"text line-clamp-1"},Ct=V({__name:"emptyStartup",props:{tabIdx:{},paneIdx:{}},setup(n){const e=n,t=Pe(),o=Te(),c={local:O("local"),"tag-search":O("imgSearch"),"fuzzy-search":O("fuzzy-search"),"global-setting":O("globalSettings"),"batch-download":O("batchDownload")+" / "+O("archive")},h=(a,s,r=!1)=>{let l;switch(a){case"grid-view":case"tag-search-matched-image-grid":case"img-sli":return;case"global-setting":case"tag-search":case"batch-download":case"fuzzy-search":case"empty":l={type:a,name:c[a],key:Date.now()+H()};break;case"local":l={type:a,name:c[a],key:Date.now()+H(),path:s,walkModePath:r?s:void 0}}return l},m=(a,s,r=!1)=>{const l=h(a,s,r);if(!l)return;const p=t.tabList[e.tabIdx];p.panes.splice(e.paneIdx,1,l),p.key=l.key},g=(a,s,r=!1)=>{const l=h(a,s,r);if(!l)return;t.tabList[e.tabIdx].panes.push(l)},_=(a,s,r=!1)=>{const l=h(a,s,r);if(!l)return;let p=t.tabList[e.tabIdx+1];p||(p={panes:[],key:"",id:H()},t.tabList[e.tabIdx+1]=p),p.panes.push(l),p.key=l.key},I=X(()=>{var a;return(a=t.tabListHistoryRecord)==null?void 0:a[1]}),k=X(()=>t.quickMovePaths.filter(({key:a,type:s})=>a==="outdir_txt2img_samples"||a==="outdir_img2img_samples"||a==="outdir_txt2img_grids"||a==="outdir_img2img_grids"||s==="walk")),P=window.parent!==window,A=()=>window.parent.open("/infinite_image_browsing"+(window.parent.location.href.includes("theme=dark")?"?__theme=dark":"")),S=()=>{ze(I.value),t.tabList=Me(I.value.tabs)};return(a,s)=>{var N,b,z;const r=ue,l=ce,p=Ne,$=De;return w(),T("div",et,[i("div",tt,[i("h1",null,f(a.$t("welcome")),1),(N=v(t).conf)!=null&&N.enable_access_control&&v(t).dontShowAgain?(w(),T("div",at,[d(v(ne),{title:"Access Control mode",style:{"vertical-align":"text-bottom"}})])):M("",!0),nt,d(l,{value:v(t).darkModeControl,"onUpdate:value":s[0]||(s[0]=u=>v(t).darkModeControl=u),"button-style":"solid"},{default:C(()=>[d(r,{value:"light"},{default:C(()=>[R("light")]),_:1}),d(r,{value:"auto"},{default:C(()=>[R("auto")]),_:1}),d(r,{value:"dark"},{default:C(()=>[R("dark")]),_:1})]),_:1},8,["value"])]),(b=v(t).conf)!=null&&b.enable_access_control&&!v(t).dontShowAgain?(w(),j(p,{key:0,"show-icon":""},{message:C(()=>[i("div",ot,[i("div",null,f(a.$t("accessControlModeTips")),1),lt,i("a",{onClick:s[1]||(s[1]=F(u=>v(t).dontShowAgain=!0,["prevent"]))},f(a.$t("dontShowAgain")),1)])]),icon:C(()=>[d(v(ne))]),_:1})):M("",!0),v(t).dontShowAgainNewImgOpts?M("",!0):(w(),j(p,{key:1,"show-icon":""},{message:C(()=>[i("div",st,[i("div",null,f(a.$t("majorUpdateCustomCellSizeTips")),1),it,i("a",{onClick:s[2]||(s[2]=F(u=>v(t).dontShowAgainNewImgOpts=!0,["prevent"]))},f(a.$t("dontShowAgain")),1)])]),_:1})),i("div",rt,[i("div",ct,[i("h2",null,f(a.$t("walkMode")),1),i("ul",null,[i("li",{onClick:s[3]||(s[3]=u=>v(Qe)("walk")),class:"item",style:{"text-align":""}},[i("span",ut,[d(v(Re)),R(" "+f(a.$t("add")),1)])]),(w(!0),T(K,null,ee(k.value,u=>(w(),j(Ke,{key:u.key,onOpenInNewTab:y=>g("local",u.dir,!0),onOpenOnTheRight:y=>_("local",u.dir,!0)},{default:C(()=>[i("li",{class:"item rem",onClick:F(y=>m("local",u.dir,!0),["prevent"])},[i("span",pt,f(u.zh),1),u.can_delete?(w(),j($,{key:0,type:"link",onClick:F(y=>v(Xe)(u.dir,"walk"),["stop"])},{default:C(()=>[R(f(a.$t("remove")),1)]),_:2},1032,["onClick"])):M("",!0)],8,dt)]),_:2},1032,["onOpenInNewTab","onOpenOnTheRight"]))),128))])]),i("div",vt,[i("h2",null,f(a.$t("launch")),1),i("ul",null,[i("li",{class:"item",onClick:s[4]||(s[4]=u=>v(o).opened=!0)},[i("span",ft,f(a.$t("imgCompare")),1)]),P?(w(),T("li",{key:0,class:"item",onClick:A},[i("span",mt,f(a.$t("openInNewWindow")),1)])):M("",!0),(z=I.value)!=null&&z.tabs.length?(w(),T("li",{key:1,class:"item",onClick:S})):M("",!0)])]),v(t).recent.length?(w(),T("div",ht,[i("div",gt,[i("h2",null,f(a.$t("recent")),1),d($,{onClick:s[5]||(s[5]=u=>v(t).recent=[]),type:"link"},{default:C(()=>[R(f(a.$t("clear")),1)]),_:1})]),i("ul",null,[(w(!0),T(K,null,ee(v(t).recent,u=>(w(),T("li",{key:u.key,class:"item",onClick:F(y=>m("local",u.path),["prevent"])},[d(v(qe),{class:"icon"}),i("span",bt,f(u.path),1)],8,_t))),128))])])):M("",!0)])])}}});const xt=je(Ct,[["__scopeId","data-v-e9713232"]]);export{xt as default};
