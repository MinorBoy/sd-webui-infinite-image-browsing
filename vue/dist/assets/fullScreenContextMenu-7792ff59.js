import{d as he,bh as Ee,a0 as Le,c3 as $e,a5 as Se,ap as Q,c4 as Oe,c5 as ie,e as oe,c as l,_ as xe,h as z,a as le,bs as Pe,P as se,a6 as q,av as ke,ay as Me,s as ye,r as Ce,c6 as De,v as U,ah as X,bO as Te,y as re,c7 as ze,c8 as ue,a8 as I,o as f,k as h,l as g,E as c,A as Y,B as p,R as Ne,c9 as Ae,p as $,n as j,m as b,t as m,H as ce,I as J,T as de,J as Ie,G as je,C as We,Z as ve,$ as Fe,ca as Be,M as Ue,cb as He,cc as Ve,an as Xe,ao as Ye,q as Ge}from"./index-e82e9f1c.js";import{D as qe}from"./index-96e7b26a.js";import"./index-801ff788.js";import{i as Je,_ as Qe}from"./FileItem-3c183d4e.js";var Ze=["class","style"],Ke=function(){return{prefixCls:String,spinning:{type:Boolean,default:void 0},size:String,wrapperClassName:String,tip:se.any,delay:Number,indicator:se.any}},G=null;function Re(e,t){return!!e&&!!t&&!isNaN(Number(t))}function Gt(e){var t=e.indicator;G=typeof t=="function"?t:function(){return l(t,null,null)}}const qt=he({compatConfig:{MODE:3},name:"ASpin",inheritAttrs:!1,props:Ee(Ke(),{size:"default",spinning:!0,wrapperClassName:""}),setup:function(){return{originalUpdateSpinning:null,configProvider:Le("configProvider",$e)}},data:function(){var t=this.spinning,a=this.delay,n=Re(t,a);return{sSpinning:t&&!n}},created:function(){this.originalUpdateSpinning=this.updateSpinning,this.debouncifyUpdateSpinning(this.$props)},mounted:function(){this.updateSpinning()},updated:function(){var t=this;Se(function(){t.debouncifyUpdateSpinning(),t.updateSpinning()})},beforeUnmount:function(){this.cancelExistingSpin()},methods:{debouncifyUpdateSpinning:function(t){var a=t||this.$props,n=a.delay;n&&(this.cancelExistingSpin(),this.updateSpinning=Q(this.originalUpdateSpinning,n))},updateSpinning:function(){var t=this.spinning,a=this.sSpinning;a!==t&&(this.sSpinning=t)},cancelExistingSpin:function(){var t=this.updateSpinning;t&&t.cancel&&t.cancel()},renderIndicator:function(t){var a="".concat(t,"-dot"),n=Oe(this,"indicator");return n===null?null:(Array.isArray(n)&&(n=n.length===1?n[0]:n),ie(n)?oe(n,{class:a}):G&&ie(G())?oe(G(),{class:a}):l("span",{class:"".concat(a," ").concat(t,"-dot-spin")},[l("i",{class:"".concat(t,"-dot-item")},null),l("i",{class:"".concat(t,"-dot-item")},null),l("i",{class:"".concat(t,"-dot-item")},null),l("i",{class:"".concat(t,"-dot-item")},null)]))}},render:function(){var t,a,n,r=this.$props,P=r.size,A=r.prefixCls,C=r.tip,D=C===void 0?(t=(a=this.$slots).tip)===null||t===void 0?void 0:t.call(a):C,E=r.wrapperClassName,L=this.$attrs,N=L.class,w=L.style,S=xe(L,Ze),k=this.configProvider,O=k.getPrefixCls,x=k.direction,y=O("spin",A),i=this.sSpinning,d=(n={},z(n,y,!0),z(n,"".concat(y,"-sm"),P==="small"),z(n,"".concat(y,"-lg"),P==="large"),z(n,"".concat(y,"-spinning"),i),z(n,"".concat(y,"-show-text"),!!D),z(n,"".concat(y,"-rtl"),x==="rtl"),z(n,N,!!N),n),v=l("div",le(le({},S),{},{style:w,class:d}),[this.renderIndicator(y),D?l("div",{class:"".concat(y,"-text")},[D]):null]),M=Pe(this);if(M&&M.length){var W,o=(W={},z(W,"".concat(y,"-container"),!0),z(W,"".concat(y,"-blur"),i),W);return l("div",{class:["".concat(y,"-nested-loading"),E]},[i&&l("div",{key:"loading"},[v]),l("div",{class:o,key:"container"},[M])])}return v}});var et={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M855 160.1l-189.2 23.5c-6.6.8-9.3 8.8-4.7 13.5l54.7 54.7-153.5 153.5a8.03 8.03 0 000 11.3l45.1 45.1c3.1 3.1 8.2 3.1 11.3 0l153.6-153.6 54.7 54.7a7.94 7.94 0 0013.5-4.7L863.9 169a7.9 7.9 0 00-8.9-8.9zM416.6 562.3a8.03 8.03 0 00-11.3 0L251.8 715.9l-54.7-54.7a7.94 7.94 0 00-13.5 4.7L160.1 855c-.6 5.2 3.7 9.5 8.9 8.9l189.2-23.5c6.6-.8 9.3-8.8 4.7-13.5l-54.7-54.7 153.6-153.6c3.1-3.1 3.1-8.2 0-11.3l-45.2-45z"}}]},name:"arrows-alt",theme:"outlined"};const tt=et;function pe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),n.forEach(function(r){nt(e,r,a[r])})}return e}function nt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var Z=function(t,a){var n=pe({},t,a.attrs);return l(q,pe({},n,{icon:tt}),null)};Z.displayName="ArrowsAltOutlined";Z.inheritAttrs=!1;const at=Z;var it={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M909.3 506.3L781.7 405.6a7.23 7.23 0 00-11.7 5.7V476H548V254h64.8c6 0 9.4-7 5.7-11.7L517.7 114.7a7.14 7.14 0 00-11.3 0L405.6 242.3a7.23 7.23 0 005.7 11.7H476v222H254v-64.8c0-6-7-9.4-11.7-5.7L114.7 506.3a7.14 7.14 0 000 11.3l127.5 100.8c4.7 3.7 11.7.4 11.7-5.7V548h222v222h-64.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V548h222v64.8c0 6 7 9.4 11.7 5.7l127.5-100.8a7.3 7.3 0 00.1-11.4z"}}]},name:"drag",theme:"outlined"};const ot=it;function fe(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),n.forEach(function(r){lt(e,r,a[r])})}return e}function lt(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var K=function(t,a){var n=fe({},t,a.attrs);return l(q,fe({},n,{icon:ot}),null)};K.displayName="DragOutlined";K.inheritAttrs=!1;const st=K;var rt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M391 240.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L200 146.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L280 333.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L401 410c5.1.6 9.5-3.7 8.9-8.9L391 240.9zm10.1 373.2L240.8 633c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L146.3 824a8.03 8.03 0 000 11.3l42.4 42.3c3.1 3.1 8.2 3.1 11.3 0L333.7 744l43.7 43.7A8.01 8.01 0 00391 783l18.9-160.1c.6-5.1-3.7-9.4-8.8-8.8zm221.8-204.2L783.2 391c6.6-.8 9.4-8.9 4.7-13.6L744 333.6 877.7 200c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.3a8.03 8.03 0 00-11.3 0L690.3 279.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L614.1 401c-.6 5.2 3.7 9.5 8.8 8.9zM744 690.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L623 614c-5.1-.6-9.5 3.7-8.9 8.9L633 783.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L824 877.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L744 690.4z"}}]},name:"fullscreen-exit",theme:"outlined"};const ut=rt;function me(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),n.forEach(function(r){ct(e,r,a[r])})}return e}function ct(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var R=function(t,a){var n=me({},t,a.attrs);return l(q,me({},n,{icon:ut}),null)};R.displayName="FullscreenExitOutlined";R.inheritAttrs=!1;const dt=R;var vt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M290 236.4l43.9-43.9a8.01 8.01 0 00-4.7-13.6L169 160c-5.1-.6-9.5 3.7-8.9 8.9L179 329.1c.8 6.6 8.9 9.4 13.6 4.7l43.7-43.7L370 423.7c3.1 3.1 8.2 3.1 11.3 0l42.4-42.3c3.1-3.1 3.1-8.2 0-11.3L290 236.4zm352.7 187.3c3.1 3.1 8.2 3.1 11.3 0l133.7-133.6 43.7 43.7a8.01 8.01 0 0013.6-4.7L863.9 169c.6-5.1-3.7-9.5-8.9-8.9L694.8 179c-6.6.8-9.4 8.9-4.7 13.6l43.9 43.9L600.3 370a8.03 8.03 0 000 11.3l42.4 42.4zM845 694.9c-.8-6.6-8.9-9.4-13.6-4.7l-43.7 43.7L654 600.3a8.03 8.03 0 00-11.3 0l-42.4 42.3a8.03 8.03 0 000 11.3L734 787.6l-43.9 43.9a8.01 8.01 0 004.7 13.6L855 864c5.1.6 9.5-3.7 8.9-8.9L845 694.9zm-463.7-94.6a8.03 8.03 0 00-11.3 0L236.3 733.9l-43.7-43.7a8.01 8.01 0 00-13.6 4.7L160.1 855c-.6 5.1 3.7 9.5 8.9 8.9L329.2 845c6.6-.8 9.4-8.9 4.7-13.6L290 787.6 423.7 654c3.1-3.1 3.1-8.2 0-11.3l-42.4-42.4z"}}]},name:"fullscreen",theme:"outlined"};const pt=vt;function ge(e){for(var t=1;t<arguments.length;t++){var a=arguments[t]!=null?Object(arguments[t]):{},n=Object.keys(a);typeof Object.getOwnPropertySymbols=="function"&&(n=n.concat(Object.getOwnPropertySymbols(a).filter(function(r){return Object.getOwnPropertyDescriptor(a,r).enumerable}))),n.forEach(function(r){ft(e,r,a[r])})}return e}function ft(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}var ee=function(t,a){var n=ge({},t,a.attrs);return l(q,ge({},n,{icon:pt}),null)};ee.displayName="FullscreenOutlined";ee.inheritAttrs=!1;const mt=ee;function gt(e,t,a,n){let r=0,P=0,A=typeof(n==null?void 0:n.width)=="number"?n.width:0,C=typeof(n==null?void 0:n.height)=="number"?n.height:0,D=typeof(n==null?void 0:n.left)=="number"?n.left:0,E=typeof(n==null?void 0:n.top)=="number"?n.top:0,L=!1;const N=i=>{i.stopPropagation(),i.preventDefault(),!(!e.value||!t.value)&&(r=i instanceof MouseEvent?i.clientX:i.touches[0].clientX,P=i instanceof MouseEvent?i.clientY:i.touches[0].clientY,A=e.value.offsetWidth,C=e.value.offsetHeight,t.value.offsetLeft,t.value.offsetTop,document.documentElement.addEventListener("mousemove",w),document.documentElement.addEventListener("touchmove",w),document.documentElement.addEventListener("mouseup",S),document.documentElement.addEventListener("touchend",S))},w=i=>{if(!e.value||!t.value)return;let d=A+((i instanceof MouseEvent?i.clientX:i.touches[0].clientX)-r),v=C+((i instanceof MouseEvent?i.clientY:i.touches[0].clientY)-P);e.value.offsetLeft+d>window.innerWidth&&(d=window.innerWidth-e.value.offsetLeft),e.value.offsetTop+v>window.innerHeight&&(v=window.innerHeight-e.value.offsetTop),e.value.style.width=`${d}px`,e.value.style.height=`${v}px`,n!=null&&n.onResize&&n.onResize(d,v)},S=()=>{document.documentElement.removeEventListener("mousemove",w),document.documentElement.removeEventListener("touchmove",w),document.documentElement.removeEventListener("mouseup",S),document.documentElement.removeEventListener("touchend",S)},k=i=>{i.stopPropagation(),i.preventDefault(),!(!e.value||!a.value)&&(L=!0,D=e.value.offsetLeft,E=e.value.offsetTop,r=i instanceof MouseEvent?i.clientX:i.touches[0].clientX,P=i instanceof MouseEvent?i.clientY:i.touches[0].clientY,document.documentElement.addEventListener("mousemove",O),document.documentElement.addEventListener("touchmove",O),document.documentElement.addEventListener("mouseup",x),document.documentElement.addEventListener("touchend",x))},O=i=>{if(!e.value||!a.value||!L)return;const d=D+((i instanceof MouseEvent?i.clientX:i.touches[0].clientX)-r),v=E+((i instanceof MouseEvent?i.clientY:i.touches[0].clientY)-P);d<0?e.value.style.left="0px":d+e.value.offsetWidth>window.innerWidth?e.value.style.left=`${window.innerWidth-e.value.offsetWidth}px`:e.value.style.left=`${d}px`,v<0?e.value.style.top="0px":v+e.value.offsetHeight>window.innerHeight?e.value.style.top=`${window.innerHeight-e.value.offsetHeight}px`:e.value.style.top=`${v}px`,n!=null&&n.onDrag&&n.onDrag(d,v)},x=()=>{L=!1,document.documentElement.removeEventListener("mousemove",O),document.documentElement.removeEventListener("touchmove",O),document.documentElement.removeEventListener("mouseup",x),document.documentElement.removeEventListener("touchend",x)},y=()=>{if(!e.value||!t.value)return;let i=e.value.offsetLeft,d=e.value.offsetTop,v=e.value.offsetWidth,M=e.value.offsetHeight;i+v>window.innerWidth&&(i=window.innerWidth-v,i<0&&(i=0,v=window.innerWidth)),d+M>window.innerHeight&&(d=window.innerHeight-M,d<0&&(d=0,M=window.innerHeight)),e.value.style.left=`${i}px`,e.value.style.top=`${d}px`,e.value.style.width=`${v}px`,e.value.style.height=`${M}px`};return ke(()=>{!e.value||!n||(typeof n.width=="number"&&(e.value.style.width=`${n.width}px`),typeof n.height=="number"&&(e.value.style.height=`${n.height}px`),typeof n.left=="number"&&(e.value.style.left=`${n.left}px`),typeof n.top=="number"&&(e.value.style.top=`${n.top}px`),y(),window.addEventListener("resize",y))}),Me(()=>{document.documentElement.removeEventListener("mousemove",w),document.documentElement.removeEventListener("touchmove",w),document.documentElement.removeEventListener("mouseup",S),document.documentElement.removeEventListener("touchend",S),document.documentElement.removeEventListener("mousemove",O),document.documentElement.removeEventListener("touchmove",O),document.documentElement.removeEventListener("mouseup",x),document.documentElement.removeEventListener("touchend",x),window.removeEventListener("resize",y)}),ye(()=>[e.value,t.value,a.value],([i,d,v])=>{i&&d&&(d.addEventListener("mousedown",N),d.addEventListener("touchstart",N)),i&&v&&(v.addEventListener("mousedown",k),v.addEventListener("touchstart",k))}),{handleResizeMouseDown:N,handleDragMouseDown:k}}const H=e=>(Xe("data-v-8c0b7e35"),e=e(),Ye(),e),ht={class:"container"},yt={class:"action-bar"},_t=["title"],bt=["title"],wt={key:0,class:"icon",style:{cursor:"pointer"}},Et={key:0,"flex-placeholder":""},Lt={key:1,class:"action-bar"},$t={key:0,class:"gen-info"},St={class:"info-tags"},Ot={class:"name"},xt={class:"value"},Pt={key:0,class:"tags-container"},kt=["onClick"],Mt=H(()=>g("br",null,null,-1)),Ct=H(()=>g("h3",null,"Prompt",-1)),Dt=["innerHTML"],Tt=H(()=>g("br",null,null,-1)),zt=H(()=>g("h3",null,"Negative Prompt",-1)),Nt=["innerHTML"],At=H(()=>g("br",null,null,-1)),It=H(()=>g("h3",null,"Params",-1)),jt={style:{"font-weight":"600","text-transform":"capitalize"}},Wt={key:0},Ft={key:1},Bt=["title"],Ut=he({__name:"fullScreenContextMenu",props:{file:{},idx:{}},emits:["contextMenuClick"],setup(e,{emit:t}){const a=e,n=Ce(),r=De(),P=U(),A=X(()=>r.tagMap.get(a.file.fullpath)??[]),C=U(""),D=Te(),E=U(""),L=U(""),N=X(()=>L.value.split(`
`)),w=X(()=>re(L.value)),S=X(()=>{let o=re(L.value);return delete o.prompt,delete o.negativePrompt,o});ye(()=>{var o;return(o=a==null?void 0:a.file)==null?void 0:o.fullpath},async o=>{o&&(D.tasks.forEach(s=>s.cancel()),D.pushAction(()=>ze(o)).res.then(s=>{E.value=s,L.value=s.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}))},{immediate:!0});const k=ue("iib@fullScreenContextMenu.prompt-tab","structedData"),O=U(),x=U(),y={left:100,top:100,width:512,height:384,expanded:!0},i=ue("fullScreenContextMenu.vue-drag",y);i.value&&(i.value.left<0||i.value.top<0)&&(i.value={...y}),gt(P,O,x,{...i.value,onDrag:Q(function(o,s){i.value={...i.value,left:o,top:s}},300),onResize:Q(function(o,s){i.value={...i.value,width:o,height:s}},300)});function d(o){return o.parentNode}function v(o){if(!o)return"";let s="";const F=o.split(/[\n,]+/);let T=!1;for(let _=0;_<F.length;_++){const V=F[_].trim();T||(T=V.includes("(")),s+=`<span class="${T?"has-parentheses":""}">${V}</span>`,_<F.length-1&&(s+=","),T&&(T=!V.includes(")"))}return s}Je("load",o=>{const s=o.target;s.className==="ant-image-preview-img"&&(C.value=`${s.naturalWidth} x ${s.naturalHeight}`)},{capture:!0});const M=X(()=>{const o=[{name:I("fileName"),val:a.file.name},{name:I("fileSize"),val:a.file.size}];return C.value&&o.push({name:I("resolution"),val:C.value}),o}),W=()=>{const o="Negative prompt:",s=E.value.includes(o)?E.value.split(o)[0]:N.value[0]??"";ce(s.trim())};return(o,s)=>{var ae;const F=qe,T=ve,_=Fe,V=Be,te=Ue,_e=ve,ne=He,be=Ve;return f(),h("div",{ref_key:"el",ref:P,class:de(["full-screen-menu",{"unset-size":!c(i).expanded}]),onWheelCapture:s[6]||(s[6]=We(()=>{},["stop"]))},[g("div",ht,[g("div",yt,[g("div",{ref_key:"dragHandle",ref:x,class:"icon",style:{cursor:"grab"},title:c(I)("dragToMovePanel")},[l(c(st))],8,_t),g("div",{class:"icon",style:{cursor:"pointer"},onClick:s[0]||(s[0]=u=>c(i).expanded=!c(i).expanded),title:c(I)("clickToToggleMaximizeMinimize")},[c(i).expanded?(f(),Y(c(dt),{key:0})):(f(),Y(c(mt),{key:1}))],8,bt),l(F,{"get-popup-container":d},{overlay:p(()=>[l(Qe,{file:o.file,idx:o.idx,"selected-tag":A.value,"disable-delete":c(Ne)(o.file)===c(n).fullscreenPreviewInitialUrl,onContextMenuClick:s[1]||(s[1]=(u,B,we)=>t("contextMenuClick",u,B,we))},null,8,["file","idx","selected-tag","disable-delete"])]),default:p(()=>[c(i).expanded?$("",!0):(f(),h("div",wt,[l(c(Ae))]))]),_:1}),c(i).expanded?(f(),h("div",Et)):$("",!0),c(i).expanded?(f(),h("div",Lt,[l(F,{trigger:["hover"],"get-popup-container":d},{overlay:p(()=>[l(te,{onClick:s[2]||(s[2]=u=>t("contextMenuClick",u,o.file,o.idx))},{default:p(()=>{var u;return[((u=c(n).conf)==null?void 0:u.launch_mode)!=="server"?(f(),h(j,{key:0},[l(_,{key:"send2txt2img"},{default:p(()=>[b(m(o.$t("sendToTxt2img")),1)]),_:1}),l(_,{key:"send2img2img"},{default:p(()=>[b(m(o.$t("sendToImg2img")),1)]),_:1}),l(_,{key:"send2inpaint"},{default:p(()=>[b(m(o.$t("sendToInpaint")),1)]),_:1}),l(_,{key:"send2extras"},{default:p(()=>[b(m(o.$t("sendToExtraFeatures")),1)]),_:1}),l(V,{key:"sendToThirdPartyExtension",title:o.$t("sendToThirdPartyExtension")},{default:p(()=>[l(_,{key:"send2controlnet-txt2img"},{default:p(()=>[b("ControlNet - "+m(o.$t("t2i")),1)]),_:1}),l(_,{key:"send2controlnet-img2img"},{default:p(()=>[b("ControlNet - "+m(o.$t("i2i")),1)]),_:1}),l(_,{key:"send2outpaint"},{default:p(()=>[b("openOutpaint")]),_:1})]),_:1},8,["title"])],64)):$("",!0),l(_,{key:"send2BatchDownload"},{default:p(()=>[b(m(o.$t("sendToBatchDownload")),1)]),_:1}),l(_,{key:"send2savedDir"},{default:p(()=>[b(m(o.$t("send2savedDir")),1)]),_:1}),l(_,{key:"previewInNewWindow"},{default:p(()=>[b(m(o.$t("previewInNewWindow")),1)]),_:1}),l(_,{key:"copyPreviewUrl"},{default:p(()=>[b(m(o.$t("copySourceFilePreviewLink")),1)]),_:1})]}),_:1})]),default:p(()=>[l(T,null,{default:p(()=>[b(m(c(I)("openContextMenu")),1)]),_:1})]),_:1}),l(_e,{onClick:s[3]||(s[3]=u=>t("contextMenuClick",{key:"download"},a.file,a.idx))},{default:p(()=>[b(m(o.$t("download")),1)]),_:1}),E.value?(f(),Y(T,{key:0,onClick:s[4]||(s[4]=u=>c(ce)(E.value))},{default:p(()=>[b(m(o.$t("copyPrompt")),1)]),_:1})):$("",!0),E.value?(f(),Y(T,{key:1,onClick:W},{default:p(()=>[b(m(o.$t("copyPositivePrompt")),1)]),_:1})):$("",!0)])):$("",!0)]),c(i).expanded?(f(),h("div",$t,[g("div",St,[(f(!0),h(j,null,J(M.value,u=>(f(),h("span",{class:"info-tag",key:u.name},[g("span",Ot,m(u.name),1),g("span",xt,m(u.val),1)]))),128))]),(ae=c(n).conf)!=null&&ae.all_custom_tags?(f(),h("div",Pt,[(f(!0),h(j,null,J(c(n).conf.all_custom_tags,u=>(f(),h("div",{class:de(["tag",{selected:A.value.some(B=>B.id===u.id)}]),onClick:B=>t("contextMenuClick",{key:`toggle-tag-${u.id}`},o.file,o.idx),key:u.id,style:Ie({"--tag-color":c(r).getColor(u.name)})},m(u.name),15,kt))),128))])):$("",!0),l(be,{activeKey:c(k),"onUpdate:activeKey":s[5]||(s[5]=u=>je(k)?k.value=u:null)},{default:p(()=>[l(ne,{key:"structedData",tab:o.$t("structuredData")},{default:p(()=>[g("div",null,[w.value.prompt?(f(),h(j,{key:0},[Mt,Ct,g("code",{innerHTML:v(w.value.prompt??"")},null,8,Dt)],64)):$("",!0),w.value.negativePrompt?(f(),h(j,{key:1},[Tt,zt,g("code",{innerHTML:v(w.value.negativePrompt??"")},null,8,Nt)],64)):$("",!0)]),Object.keys(S.value).length?(f(),h(j,{key:0},[At,It,g("table",null,[(f(!0),h(j,null,J(S.value,(u,B)=>(f(),h("tr",{key:u,class:"gen-info-frag"},[g("td",jt,m(B),1),typeof u=="object"?(f(),h("td",Wt,[g("code",null,m(u),1)])):(f(),h("td",Ft,m(u),1))]))),128))])],64)):$("",!0)]),_:1},8,["tab"]),l(ne,{key:"sourceText",tab:o.$t("sourceText")},{default:p(()=>[g("code",null,m(E.value),1)]),_:1},8,["tab"])]),_:1},8,["activeKey"])])):$("",!0)]),c(i).expanded?(f(),h("div",{key:0,class:"mouse-sensor",ref_key:"resizeHandle",ref:O,title:c(I)("dragToResizePanel")},[l(c(at))],8,Bt)):$("",!0)],34)}}});const Jt=Ge(Ut,[["__scopeId","data-v-8c0b7e35"]]);export{qt as S,Jt as f,Gt as s};
